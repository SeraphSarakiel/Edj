{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Posts{% endblock %}</h1>
{% endblock %}

{% block content %}
  {%if matrices | length == 1 %}
  <article class="post">
    <header>
      <div>
        <h1>Matrix {{matrices[0]["id"]}}</h1>
      </div>
    </header>
    <form method="post" name="">
    {% for i in range(matrices[0]["rows"]) %}
    <div >
      {% for j in range(matrices[0]["cols"]) %}
      <input class="entry" name="value{{i*3+j}}" value={{ matrices[0]["data"][i][j] }}>
      {% endfor %}
    </div>
  
    {% endfor %}
    <input class="invis" type="submit">
  </form>
  </article>

  {% else %}
  {% for matrix in matrices %}
    
    <article class="post">
      <header>
        <div>
          <h1>Matrix {{matrix["id"]}}</h1>
        </div>
      </header>
      <form method="post" name="">
      {% for i in range(matrix["rows"]) %}
      <div >
        {% for j in range(matrix["cols"]) %}
        <input class="entry" name="value{{i*3+j}}" value={{ matrix["data"][i][j] }}>
        {% endfor %}
      </div>
    
      {% endfor %}
      <input class="invis" type="submit">
    </form>
    </article>
    
    
    {% if not loop.last %}
      <hr>
    {% endif %}
  {% endfor %}
  {% endif %}
  
{% endblock %}